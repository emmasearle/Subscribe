Touchcast_BlacklistUrlsDefList = ["1.usa.gov","about.dish.com","abyss.uoregon.edu","accenture.com","accounts.google.com","adblockplus.org","admin.google.com","adobe.com","airandspace.si.edu","airbac.com","albumjams.com","amazon.co.uk","amazon.com","amby.com","americanarachnology.org","angel.co","answers.yahoo.com","app.studyisland.com","app40.studyisland.com","appshopper.com","arrl.org","ask.fm","astrakhan.mvideo.ru","atelier.net","atlantapublicschools.edmodo.com","atoshealthcare.com","att.com","audioboo.fm","australia.gov.au","auth.ted.com","azoi.com","bankofamerica.com","barnesandnoble.com","bates.instructure.com","bbcgoodfood.com","beachsoccer.com","beeradvocate.com","bestbuy.com","bilkent.edu.tr","bioguide.congress.gov","blackrock.co.uk","blessthisstuff.com","blog.accenture.com","blog.etsy.com","blogger.com","blu176.afx.ms","books.google.com","books.google.com.tr","brainyquote.com","brendaneich.com","brooklynbrewerymash.com","brophyspeechanddebate.com","businessweek.com","bustle.com","ca.m.yahoo.com","canvas.instructure.com","canvas.jmu.edu","captina.org","cbs.com","ce.org","celebrity.yahoo.com","cellculturedish.com","charitywater.org","charlestownsquare.com.au","chinafile.com","chipfoose.com","cinemasins.com","cisd.blackboard.com","citigroup.com","class.coursera.org","classpager.com","classroom.google.com","coachstevens.pbworks.com","code.org","codecademy.com","collegeboard.org","commonsensemedia.org","connectingthekingdom365.com","converse.com","cookbook.gamesalad.com","costcophotocenter.com","coursera.org","courses.ciu.edu","cpkoperatorsconference2014.com","craigyen.com","creativespirits.info","crunchbase.com","csedweek.org","csusb.blackboard.com","dailymotion.com","dalhousie.blackboard.com","daltoncaldwell.com","data.worldbank.org","datpiff.com","dearfcc.org","defencejobs.gov.au","dictionary.infoplease.com","differentiationworkshop.pbworks.com","digitaloctober.com","disneyland.disney.go.com","disneyworld.disney.go.com","docs.google.com","dodge.com","dosomething.org","drive.google.com","dropbox.com","dub114.afx.ms","dunbarsdomain.pbworks.com","earthobservatory.nasa.gov","ebay.com","ec.europa.eu","ecsdcards.rubiconatlas.org","edmentum.com","edmodo.com","edsurge.com","edu.glogster.com","education.skype.com","educationrethink.com","ee.co.uk","eff.org","elance.com","elliegoulding.com","en.wordpress.com","englishbormann.blogspot.com","eoimages.gsfc.nasa.gov","ericsson.com","escapehealthclub.co.uk","etsy.com","eventbrite.com","everlane.com","evernote.com","examiner.com","extramustard.si.com","fab.com","facebook.com","factmonster.com","fafsa.ed.gov","fec.gov","federalreserveeducation.org","finance.yahoo.com","fitbit.com","flickr.com","flippedclassroom.com","forbes.com","formula1.com","foursquare.com","fr.linkedin.com","funnyordie.com","future.uws.edu.au","futurelearn.com","game.classcraft.com","gapminder.org","gastateparks.org","gatesair.com","gatesfoundation.org","gatorrun.browardschools.com","gb.pinterest.com","geniusstuff.com","geology.com","getpocket.com","globalpost.com","goanimate.com","goanimate4schools.com","goo.gl","goodreads.com","google.ca","google.co.in","google.co.kr","google.co.uk","google.com","google.com.au","google.com.mt","google.com.mx","google.com.ua","google.dk","google.es","google.fr","google.ps","google.ru","gradesaver.com","graphite.org","groceries.morrisons.com","guitarcenter.com","gutenberg.org","haikudeck.com","hallco.org","hammerspacehobby.com","hbm1.com","healthcare.gov","highfive.com","home.ccr.cancer.gov","home.ecsdcards.com","hourofcode.com","houston.adl.org","hub.ubm.com","i.infoplease.com","icloud.com","imaginecommunications.com","imdb.com","imedia.emn.fr","in.linkedin.com","indiegogo.com","infoplease.com","inforural.com.mx","infosurhoy.com","innovations2010unco.pbworks.com","inside.com","instagram.com","intel.com","ipad.skola.malmo.se","itunes.apple.com","itv.com","jcs.edmodo.com","jmmhandyman.com","justgetflux.com","jw.org","kayak.com","khanacademy.org","kickstarter.com","kidshelpphone.ca","kleinspiration.com","kodable.com","kopavogsskoli.is","kreyos.com","kristenswanson.org","learn.canvas.net","learn.code.org","learnable.com","leighblackall.com","letsgo.directline.com","linkedin.com","lockheedmartin.com","loft.mrooms3.net","login.live.com","login.microsoftonline.com","m.facebook.com","m.mixcloud.com","m.nationalgrid.com","m.si.com","m.vk.com","m.wikihow.com","macrumors.com","mail.google.com","mail.ru","mandgchelsea.co.uk","manythings.org","maps.google.ca","maps.google.co.uk","maps.google.com","maps.google.com.au","mapsengine.google.com","marksandspencer.com","massivegreatness.com","materdei.blackboard.com","mazur.harvard.edu","mediaexchange.accenture.com","medium.com","meetup.com","miamiherald.typepad.com","microsoftstore.com","military.com","mindmeister.com","mobile.twitter.com","moma.org","montauk-monster.com","moodle.dce.k12.wi.us","moodle.fss.is","moodle.hi.is","moodle.hpisd.org","moodle.nisdtx.org","moodle.radcliffeschool.org.uk","moodle.sjabr.org","moodle.vle.monash.edu","moodle.wayzata.k12.mn.us","moodlehubpreview.remc.org","mrsburman.com","mushroomnetworks.com","music.yahoo.com","my.e2rm.com","myelms.umd.edu","myhomeworkapp.com","mypages.valdosta.edu","mypearsontraining.com","myportfolio.ucl.ac.uk","na.leagueoflegends.com","nanosatisfi.com","nationalcareersservice.direct.gov.uk","nba.si.com","netspeak.org","new.livestream.com","new.ted.com","newegg.com","news.google.com","news.yahoo.com","newsroom.intel.com","nhc.noaa.gov","nick.com","nmusd.haikulearning.com","norwichuniversitymedicalethics.pbworks.com","nrlmry.navy.mil","nrmps.edmodo.com","nytimes.com","ocmoodle.oldscollege.ca","ocps.edmodo.com","octoly.com","otis.coe.uky.edu","paect.org","pager.com","palgrave.com","panasonic.com","panthers.netball.asn.au","parliament.uk","pdfs.remind101.com","peelschools.org","phl.upr.edu","phm.instructure.com","physics.aps.org","pic-collage.com","pickthebrain.com","pinterest.com","pizzahut.com","planetside2.com","play.google.com","play.tuteve.tv","plus.google.com","pnas.org","pohatcong.org","popcorn.webmaker.org","portfoliyo.org","powayusd.com","present.me","prezi.com","projectnoah.org","prweb.com","ptsd.ne.gov","pureromance.com","quizlet.com","quora.com","qwant.com","rapgenius.com","rbs.com","read.amazon.com","read.idwpublishing.com","rebelmouse.com","reddit.com","redlobster.com","rhs.org.uk","righttoplay.com","rijksmuseum.nl","rs.cuetoyou.net","rstb.royalsocietypublishing.org","rws.nl","s3-eu-west-1.amazonaws.com","s3.amazonaws.com","salemwitchmuseum.com","sat1.sbacpt.tds.airast.org","scad.edu","scholar.google.com","scholar.google.com.au","schoology.com","scoop.it","scootle.edu.au","scpr.org","scribd.com","seamless.com","search.usa.gov","search.yahoo.com","secure3.hilton.com","serviceautoglass.com","shakopee.instructure.com","shop.ee.co.uk","si.com","signup.wordpress.com","siliconglen.com","sites.google.com","sky.com","skype.com","snapchat.com","soccerlens.com","sochi2014.nytimes.com","socialmediatoday.com","sos.state.oh.us","soundcloud.com","spellingcity.com","splt.cc","sports.ndtv.com","sports.yahoo.com","sportsillustrated.cnn.com","spotify.com","sprite.com","sps186.org","ssl.panoramio.com","stem.wesfryer.com","store.apple.com","store.prip.me","storehouse.co","storify.com","storyhunter.tv","support.google.com","tabs.ultimate-guitar.com","tcc.blackboard.com","tdsb.on.ca","teachervision.com","teachingchannel.org","teachthought.com","ted.com","teespring.com","tes.co.uk","teslamotors.com","the-qrcode-generator.com","themodernmanpdx.com","thenutfactory.net","thereformation.com","therodneyinn.co.uk","thewritertoday.com","timetoast.com","todaysmeet.com","top-alternative-energy-sources.com","touchcast.zendesk.com","translate.google.com.br","tripit.com","tumblr.com","tvtropes.org","twitter.com","uber.com","ucas.com","uk.blackberry.com","uk.code.org","uk.linkedin.com","unicefusa.org","unilever.com","us.audionetwork.com","us.battle.net","us.coca-cola.com","us2.campaign-archive1.com","usopen.org","uttabull.com","uws.edu.au","uwscollege.edu.au","values.com","vaynermedia.com","vhighland.com","vimeo.com","vine.co","vle.wolvcoll.ac.uk","voices.yahoo.com","waitrose.com","walmart.com","wikihow.com","wordpress.com","wordpress.org","www.gov.uk","xmasclock.com","ya.ru","yahoo.com","yammer.com","yandex.ua","youpd.org","youtu.be","zoodegranby.com"];

Touchcast_BlacklistUrls = {
    /**
     * Taken from: http://oli.me.uk/2013/06/08/searching-javascript-arrays-with-a-binary-search/
     * Performs a binary search on the host array. This method can either be
     * injected into Array.prototype or called with a specified scope like this:
     * binaryIndexOf.call(someArray, searchElement);
     *
     * @param {*} searchElement The item to search for within the array.
     * @return {Number} The index of the element which defaults to -1 when not found.
     */
    binaryIndexOf: function(searchElement) {
        var minIndex = 0;
        var maxIndex = Touchcast_BlacklistUrlsDefList.length - 1;
        var currentIndex;
        var currentElement;
     
        while (minIndex <= maxIndex) {
            currentIndex = (minIndex + maxIndex) / 2 | 0;
            currentElement = Touchcast_BlacklistUrlsDefList[currentIndex];
     
            if (currentElement < searchElement) {
                minIndex = currentIndex + 1;
            }
            else if (currentElement > searchElement) {
                maxIndex = currentIndex - 1;
            }
            else {
                return currentIndex;
            }
        }
     
        return -1;
    },
    
    isBlocked: function(url, callback) {
        if (url.match(/youtube\.com\/playlist/)) {
            callback(url, true);
            return;
        }

        if (url.match(/accenture\.com/)) {
            callback(url, true);
            return;
        }

        //remove the schema
        var domain = url.toLowerCase(); //we are only interested in domain 
        if (domain.match(/^https?:\/\//))
            domain = domain.replace(/^https?:\/\//, '');

        domain = domain.replace(/\/.*$/g, ''); //extract only domain
        if (domain.substr(0, 4) == 'www.')
            domain = domain.substr(4);

        if (this.binaryIndexOf(domain) > -1) {
            callback(url, true);
            return;
        }

        callback(url, false);
    }
};
